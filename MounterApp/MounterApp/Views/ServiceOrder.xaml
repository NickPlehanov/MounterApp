<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MounterApp.Views.ServiceOrder">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <StackLayout Grid.Row="0" Grid.ColumnSpan="2" Margin="5">
            <Expander IsExpanded="True">
                <Expander.Header>
                    <Label Text="Информация об охр. объекте" FontSize="Large" HorizontalTextAlignment="Center" FontAttributes="Bold"/>
                </Expander.Header>
                <StackLayout>
                    <Label Text="№ объекта" HorizontalOptions="Center" FontAttributes="Bold"/>
                    <Entry Text="{Binding ObjectNumber}"/>
                    <Label Text="Название объекта" HorizontalOptions="Center" FontAttributes="Bold"/>
                    <Entry Text="{Binding ObjectName}"/>
                    <Label Text="Адрес объекта" HorizontalOptions="Center" FontAttributes="Bold"/>
                    <Entry Text="{Binding ObjectAddress}"/>
                    <StackLayout Orientation="Horizontal" HorizontalOptions="Center" >
                        <FlexLayout>
                            <CheckBox IsEnabled="False" IsChecked="{Binding ServiceSecurity}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup>
                                        <VisualState x:Name="Normal">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Red" />
                                            </VisualState.Setters>
                                        </VisualState>
                                        <VisualState x:Name="IsChecked">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Green" />
                                            </VisualState.Setters>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </CheckBox>
                            <Label Text="ТО ОС" VerticalTextAlignment="Center" FontAttributes="Bold"/>
                        </FlexLayout>
                        <FlexLayout>
                            <CheckBox IsEnabled="False" IsChecked="{Binding ServiceFire}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup>
                                        <VisualState x:Name="Normal">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Red" />
                                            </VisualState.Setters>
                                        </VisualState>
                                        <VisualState x:Name="IsChecked">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Green" />
                                            </VisualState.Setters>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </CheckBox>
                            <Label Text="ТО ПС" VerticalTextAlignment="Center" FontAttributes="Bold"/>
                        </FlexLayout>
                        <FlexLayout>
                            <CheckBox IsEnabled="False" IsChecked="{Binding ServiceVideo}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup>
                                        <VisualState x:Name="Normal">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Red" />
                                            </VisualState.Setters>
                                        </VisualState>
                                        <VisualState x:Name="IsChecked">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Green" />
                                            </VisualState.Setters>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </CheckBox>
                            <Label Text="ТО ВИДЕО" VerticalTextAlignment="Center" FontAttributes="Bold"/>
                        </FlexLayout>
                        <FlexLayout>
                            <CheckBox IsEnabled="False" IsChecked="{Binding ServiceAccess}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup>
                                        <VisualState x:Name="Normal">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Red" />
                                            </VisualState.Setters>
                                        </VisualState>
                                        <VisualState x:Name="IsChecked">
                                            <VisualState.Setters>
                                                <Setter Property="Color" Value="Green" />
                                            </VisualState.Setters>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </CheckBox>
                            <Label Text="ТО СКУД" VerticalTextAlignment="Center" FontAttributes="Bold"/>
                        </FlexLayout>
                    </StackLayout>
                </StackLayout>
            </Expander>
        </StackLayout>
        <StackLayout Grid.Row="1" Grid.ColumnSpan="2" Margin="5">
            <Expander>
                <Expander.Header>
                    <Label Text="Информация о заявке" FontSize="Large" HorizontalTextAlignment="Center" FontAttributes="Bold"/>
                </Expander.Header>
                <StackLayout>
                <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Margin="5,0">
                    <FlexLayout>
                        <Label Text="Дата" VerticalTextAlignment="Center"  FontAttributes="Bold"/>
                        <DatePicker Date="{Binding Date}"/>
                        <Label Text="Время" VerticalTextAlignment="Center" FontAttributes="Bold"/>
                        <TimePicker Time="{Binding Time}"/>
                    </FlexLayout>
                </StackLayout>
                <StackLayout>
                        <Label Text="Категория заявки" HorizontalOptions="Center" FontAttributes="Bold"/>
                        <Entry Text="{Binding ServiceOrderCategory}"/>
                        <Label Text="Причина посещения" HorizontalOptions="Center" FontAttributes="Bold"/>
                        <Entry Text="{Binding ServiceOrderReason}"/>
                        <Label Text="Примечание" HorizontalOptions="Center" FontAttributes="Bold"/>
                        <Entry Text="{Binding ServiceOrderDescription}"/>
                    </StackLayout>
                </StackLayout>
            </Expander>
        </StackLayout>
        <StackLayout Grid.Row="2" Grid.ColumnSpan="2" Margin="5">
            <Expander>
                <Expander.Header>
                    <Label Text="Информация об объекте"  FontSize="Large" HorizontalTextAlignment="Center" FontAttributes="Bold"/>
                </Expander.Header>
                <StackLayout>
                    <Button Text="Информация по объекту" Command="{Binding GetObjectInfoCommand}"/>
                    <Button Text="События по времени" Command="{Binding GetEventsCommand}"/>
                    <Button Text="Заявки по объекту" Command="{Binding ServiceOrderByObjectCommand}"/>
                    <Button Text="Схема объекта" Command="{Binding ObjectSchemeCommand}"/>
                </StackLayout>
            </Expander>
        </StackLayout>
        <StackLayout Grid.Row="3" Grid.Column="0" Margin="5">
            <Button Text="Пришел" Command="{Binding IncomeCommand}"/>
        </StackLayout>
        <StackLayout Grid.Row="3" Grid.Column="1" Margin="5">
            <Button Text="Ушел" Command="{Binding OutcomeCommand}"/>
        </StackLayout>
    </Grid>
</ContentPage>